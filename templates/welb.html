<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health & Wellbeing Tracker</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='welb.css') }}">
</head>
<body>
    <div style="padding: 40px;"></div>
    <div class="container animate__animated animate__fadeIn">
        <h2 class="animate__animated animate__pulse animate__infinite" id="tec">Health & Wellbeing Tracker</h2>
        
        <div class="form-group">
            <label for="mood" id="tec">How are you feeling today?</label>
            <select id="mood">
                <option value="happy">Happy</option>
                <option value="stressed">Stressed</option>
                <option value="anxious">Anxious</option>
                <option value="tired">Tired</option>
            </select>
        </div>
        
        <div class="form-group">
            <label id="tec" for="heartRate">Heart Rate (bpm):</label>
            <input type="text" id="heartRate" placeholder="Enter BPM">
        </div>
        
        <div class="form-group">
            <label id="tec" for="bp">Blood Pressure:</label>
            <input type="text" id="bp" placeholder="e.g., 120/80">
        </div>
        
        <button onclick="analyzeHealth()" class="animate__animated animate__pulse animate__delay-2s">Check Health</button>
        <div style="padding: 20px;"></div>
        <div id="result" class="result-container" style="display: none;">
            <h3 id="resultText"></h3>
            <h4 id="relaxationTips"></h4>
            <div id="happySection" style="display: none;">
                <h4>üåü Keep the Joy Going! üåü</h4>
                <p id="appreciationText" style="color: #2196F3; font-size: 18px;"></p>
                <button onclick="startSnakeGame()" class="happy-button">Play Snake Game</button>
                <div id="gameArea" style="margin-top: 20px;"></div>
            </div>
            <div id="relaxationSection" style="display: none;">
                <h4>Try these relaxing activities:</h4>
                <button onclick="startMindfulBreathing()" class="relax-button">Mindful Breathing</button>
                <button onclick="startGuidedVisualization()" class="relax-button">Peaceful Visualization</button>
                <div id="relaxArea" style="margin-top: 20px; padding: 20px;"></div>
            </div>
        </div>
    </div>
    
    <script>
        function analyzeHealth() {
            let mood = document.getElementById("mood").value;
            let heartRate = parseInt(document.getElementById("heartRate").value);
            let bp = document.getElementById("bp").value;
            let resultText = "";
            let tips = "";
            let healthStatus = "";
            
            document.getElementById("relaxationSection").style.display = "none";
            document.getElementById("happySection").style.display = "none";

            if ((heartRate >= 60 && heartRate <= 100) && (bp >= 90 && bp <= 120)) {
                healthStatus = "Great news! Both your heart rate and blood pressure are normal. Keep maintaining your healthy lifestyle! üíö";
            } else if (heartRate < 60 || heartRate > 100) {
                if (bp < 90 || bp > 120) {
                    healthStatus = "Both your heart rate and blood pressure are outside normal ranges. Please consult with a healthcare provider. üè•";
                } else {
                    healthStatus = "Your heart rate is outside the normal range. Consider checking with a healthcare provider. üíì";
                }
            } else if (bp < 90 || bp > 120) {
                healthStatus = "Your blood pressure is outside the normal range. Consider checking with a healthcare provider. ü©∫";
            }
            
            if (mood === "happy") {
                resultText = "That's wonderful! Your positive energy is contagious! üåü";
                tips = "Share your joy with others and keep the positive vibes flowing!";
                document.getElementById("happySection").style.display = "block";
                showAppreciation();
            } else if (mood === "tired") {
                resultText = "You're feeling tired. Let's help you relax and restore your energy.";
                tips = "Take a moment to try our guided relaxation exercises.";
                document.getElementById("relaxationSection").style.display = "block";
            } else if (mood === "stressed" || mood === "anxious") {
                resultText = "You seem to be stressed. Consider relaxation techniques.";
                tips = "Try deep breathing, meditation, or a short walk.";
            }
            
            document.getElementById("resultText").innerText = resultText;
            document.getElementById("relaxationTips").innerText = "Health Status: " + healthStatus + "\n\nRelaxation Tip: " + tips;
            
            let resultContainer = document.getElementById("result");
            resultContainer.style.display = "block";
            resultContainer.classList.add("animate__animated", "animate__bounceIn");
        }

        function showAppreciation() {
            const appreciations = [
                "Your happiness brightens everyone's day! üåû",
                "Keep spreading that wonderful energy! ‚ú®",
                "You're making the world a better place with your smile! üåà",
                "Your positive attitude is inspiring! üå∫",
                "Happiness looks amazing on you! üéâ"
            ];
            const randomAppreciation = appreciations[Math.floor(Math.random() * appreciations.length)];
            document.getElementById("appreciationText").innerText = randomAppreciation;
        }

        function startMindfulBreathing() {
            let relaxArea = document.getElementById('relaxArea');
            relaxArea.innerHTML = `
                <div class="breathing-circle" style="margin-bottom: 40px;"></div>
                <p id="breathingText" style="font-size: 18px; color: #555;">Follow the circle's rhythm...</p>
                <p style="color: #666; margin-top: 20px; margin-bottom: 30px;">
                    Find a comfortable position and let the circle guide your breath.
                    Breathe in as it expands, and out as it contracts.
                </p>
            `;

            let circle = document.querySelector('.breathing-circle');
            let text = document.getElementById('breathingText');
            
            function breathingCycle() {
                circle.style.transform = 'scale(1.5)';
                text.innerText = 'Breathe in slowly...';
                
                setTimeout(() => {
                    text.innerText = 'Hold gently...';
                    
                    setTimeout(() => {
                        circle.style.transform = 'scale(1)';
                        text.innerText = 'Release your breath...';
                    }, 2000);
                }, 4000);
            }

            breathingCycle();
            setInterval(breathingCycle, 12000); 
        }

        function startGuidedVisualization() {
            let relaxArea = document.getElementById('relaxArea');
            let scenes = [
                "Imagine yourself in a peaceful garden, surrounded by soft flowers...",
                "Feel the gentle warmth of sunlight on your skin...",
                "Listen to the soft rustling of leaves in a gentle breeze...",
                "Picture yourself by a calm lake, watching small waves ripple..."
            ];
            
            relaxArea.innerHTML = `
                <div style="background: linear-gradient(to bottom, #e0f7fa, #b2ebf2); 
                            padding: 30px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                    <p id="visualizationText" style="font-size: 18px; color: #333; line-height: 1.6;">
                        Take a deep breath...
                    </p>
                </div>
            `;

            let currentScene = 0;
            function changeScene() {
                let text = document.getElementById('visualizationText');
                text.style.opacity = 0;
                setTimeout(() => {
                    text.innerText = scenes[currentScene];
                    text.style.opacity = 1;
                    currentScene = (currentScene + 1) % scenes.length;
                }, 1000);
            }

            setInterval(changeScene, 10000); 
        }

        function startSnakeGame() {
            const gameArea = document.getElementById('gameArea');
            gameArea.innerHTML = `
                <div id="gameMessage" style="font-size: 20px; color: #2196F3; margin-bottom: 15px;"></div>
                <canvas id="snakeCanvas" width="400" height="400"></canvas>
            `;
            
            const canvas = document.getElementById('snakeCanvas');
            const ctx = canvas.getContext('2d');
            const gridSize = 20;
            const tileCount = canvas.width / gridSize;
            
            let snake = [
                { x: 10, y: 10 },
            ];
            let food = { x: 15, y: 15 };
            let dx = 0;
            let dy = 0;
            let score = 0;
            
            document.addEventListener('keydown', function(event) {
                switch(event.key) {
                    case 'ArrowUp': if (dy === 0) { dx = 0; dy = -1; } break;
                    case 'ArrowDown': if (dy === 0) { dx = 0; dy = 1; } break;
                    case 'ArrowLeft': if (dx === 0) { dx = -1; dy = 0; } break;
                    case 'ArrowRight': if (dx === 0) { dx = 1; dy = 0; } break;
                }
            });

            function drawGame() {
                const head = { x: snake[0].x + dx, y: snake[0].y + dy };
                snake.unshift(head);
                
                if (head.x === food.x && head.y === food.y) {
                    score += 10;
                    food = {
                        x: Math.floor(Math.random() * tileCount),
                        y: Math.floor(Math.random() * tileCount)
                    };
                } else {
                    snake.pop();
                }
                
                ctx.fillStyle = '#f0f0f0';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                ctx.fillStyle = '#4CAF50';
                snake.forEach(segment => {
                    ctx.fillRect(segment.x * gridSize, segment.y * gridSize, gridSize - 2, gridSize - 2);
                });
                
                ctx.fillStyle = '#FF4081';
                ctx.fillRect(food.x * gridSize, food.y * gridSize, gridSize - 2, gridSize - 2);
                
                if (head.x < 0 || head.x >= tileCount || head.y < 0 || head.y >= tileCount ||
                    snake.slice(1).some(segment => segment.x === head.x && segment.y === head.y)) {
                    const messages = [
                        "Amazing effort! You bring joy to everyone! ‚ú®",
                        "What a wonderful game! Keep smiling! üåü",
                        "You're absolutely fantastic! üåà",
                        "Your positive energy is incredible! üå∫",
                        "Thanks for playing! You're awesome! üéâ"
                    ];
                    document.getElementById('gameMessage').innerText = 
                        messages[Math.floor(Math.random() * messages.length)];
                    return;
                }
                
                setTimeout(drawGame, 100);
            }
            
            const startPrompt = function(event) {
                if (event.key.startsWith('Arrow')) {
                    document.removeEventListener('keydown', startPrompt);
                    drawGame();
                }
            };
            document.addEventListener('keydown', startPrompt);
            
            
            ctx.fillStyle = '#f0f0f0';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#333';
            ctx.font = '20px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('Press any arrow key to start', canvas.width/2, canvas.height/2);
        }

        

        
    </script>
</body>
</html>